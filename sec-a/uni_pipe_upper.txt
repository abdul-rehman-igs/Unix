nano uni_pipe_upper.cpp


#include <iostream>
#include <unistd.h>
#include <cstring>
#include <cctype>

using namespace std;

int main() {

    int fd[2];

    if (pipe(fd) == -1) {
        perror("Pipe failed");
        return 1;
    }

    pid_t pid = fork();

    if (pid < 0) {
        perror("Fork failed");
        return 1;
    }


    if (pid > 0) {

        close(fd[0]);

        const char* msg = "hello from parent";

        write(fd[1], msg, strlen(msg) + 1);

        cout << "Parent sent: " << msg << endl;

        close(fd[1]);
    }

    else {

        close(fd[1]);

        char buffer[100];

        read(fd[0], buffer, sizeof(buffer));

        for (int i = 0; buffer[i] != '\0'; i++) {
            buffer[i] = toupper(buffer[i]);
        }

        cout << "Child received: " << buffer << endl;

        close(fd[0]);
    }

    return 0;
}

g++ uni_pipe_upper.cpp -o uni_pipe_upper
./uni_pipe_upper

